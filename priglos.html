<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É –¥–ª—è –ù—é—à–∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .invitation-card, .form-section, .admin-panel {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .invitation-card:hover, .form-section:hover {
            transform: translateY(-5px);
        }
        
        .invitation-card {
            background: linear-gradient(to bottom right, #fdfcfb 0%, #f5f1e7 100%);
        }
        
        .invitation-card h2, .form-section h2, .admin-panel h2 {
            color: #2575fc;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .personal-info {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .person {
            flex: 1;
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            background-color: rgba(255, 255, 255, 0.7);
        }
        
        .person h3 {
            color: #6a11cb;
            margin-bottom: 5px;
        }
        
        .person p {
            font-size: 0.9rem;
            color: #666;
        }
        
        .message {
            background-color: rgba(106, 17, 203, 0.1);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #6a11cb;
            margin-top: 20px;
            line-height: 1.6;
        }
        
        .message p {
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5ee;
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #6a11cb;
            outline: none;
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        @media (max-width: 480px) {
            .checkbox-group {
                grid-template-columns: 1fr;
            }
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .checkbox-option input {
            width: auto;
        }
        
        .submit-btn {
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(106, 17, 203, 0.3);
        }
        
        .admin-panel {
            background-color: #f8f9fa;
            border: 2px dashed #6a11cb;
            margin-top: 40px;
            display: none;
        }
        
        .admin-panel.visible {
            display: block;
        }
        
        .charm-element {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(to right, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .charm-element i {
            font-size: 2.5rem;
            color: #ff6b6b;
            margin-bottom: 10px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #666;
            font-size: 0.9rem;
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }
        
        .loading i {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .admin-settings {
            background-color: #e8f4fc;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #2575fc;
        }
        
        .telegram-settings, .vk-settings, .sync-settings {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .telegram-settings {
            border-left: 4px solid #0088cc;
        }
        
        .vk-settings {
            border-left: 4px solid #4c75a3;
        }
        
        .sync-settings {
            border-left: 4px solid #28a745;
        }
        
        .api-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .status-active {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-inactive {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .admin-login {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #dee2e6;
        }
        
        .admin-login input {
            margin: 10px 0;
        }
        
        .responses-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .responses-table th {
            background-color: #f1f3f5;
            color: #495057;
            padding: 15px;
            text-align: left;
            border-bottom: 2px solid #dee2e6;
        }
        
        .responses-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .responses-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .no-responses {
            text-align: center;
            padding: 30px;
            color: #6c757d;
            font-style: italic;
        }
        
        .admin-controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .hidden {
            display: none;
        }
        
        .login-error {
            color: #dc3545;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .sync-info {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .config-code {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9rem;
            word-break: break-all;
            margin: 10px 0;
        }
        
        .qr-container {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
        }
        
        .sync-option {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .sync-option:hover {
            background-color: #f8f9fa;
        }
        
        .sync-option.active {
            background-color: #e7f3ff;
            border-color: #007bff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-heart"></i> –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É</h1>
            <p class="subtitle">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ù—é—à–∏ –ë—Ä—É–Ω–æ –ì–∞—Ä—Å–∏—è –æ—Ç –ï–≤–≥–µ–Ω–∏—è –ò–≤–∞—à–∏–Ω–∞</p>
        </header>
        
        <div class="charm-element">
            <i class="fas fa-magic"></i>
            <h3>–ù—é—à–∞, —ç—Ç–∞ –ø—Ä–æ–≥—É–ª–∫–∞ –±—É–¥–µ—Ç –≤–æ–ª—à–µ–±–Ω–æ–π!</h3>
            <p>–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã –¥–ª—è —Ç–µ–±—è, —á—Ç–æ–±—ã –æ—Ç–≤–ª–µ—á—å—Å—è –æ—Ç –¥–µ–ª –∏ —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è</p>
        </div>
        
        <div class="content">
            <div class="invitation-card">
                <h2><i class="fas fa-envelope-open-text"></i> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</h2>
                
                <div class="personal-info">
                    <div class="person">
                        <h3>–ù—é—à–∞</h3>
                        <p>–ë—Ä—É–Ω–æ –ì–∞—Ä—Å–∏—è</p>
                        <p><i class="fas fa-map-marker-alt"></i> –ü–µ—Ä–µ–µ—Ö–∞–ª–∞ –∏–∑ –ú–æ—Å–∫–≤—ã –≤ –ü–µ–Ω–∑—É</p>
                        <p>–ñ–∏–≤—ë—Ç –Ω–∞ –û–∫—Ä—É–∂–Ω–æ–π</p>
                    </div>
                    
                    <div class="person">
                        <h3>–ï–≤–≥–µ–Ω–∏–π</h3>
                        <p>–ò–≤–∞—à–∏–Ω</p>
                        <p><i class="fas fa-home"></i> –í—Å—é –∂–∏–∑–Ω—å –≤ –ü–µ–Ω–∑–µ</p>
                        <p>–ó–Ω–∞—é –≤—Å–µ –ª—É—á—à–∏–µ –º–µ—Å—Ç–∞</p>
                    </div>
                </div>
                
                <div class="message">
                    <p>–î–æ—Ä–æ–≥–∞—è –ù—é—à–∞!</p>
                    <p>–Ø –∑–Ω–∞—é, —á—Ç–æ —Ç—ã —á–∞—Å—Ç–æ –∑–∞–Ω—è—Ç–∞ –∏–ª–∏ –æ—Ç–¥—ã—Ö–∞–µ—à—å, –Ω–æ —è –æ—á–µ–Ω—å –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ —Ç—ã —Å–º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏ –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏ —Å–æ –º–Ω–æ–π.</p>
                    <p>–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –≥–¥–µ –º—ã –º–æ–∂–µ–º –ø–æ–≥—É–ª—è—Ç—å –∏ —á–µ–º –∑–∞–Ω—è—Ç—å—Å—è. –£–≤–µ—Ä–µ–Ω, –Ω–∞–º –±—É–¥–µ—Ç –æ—á–µ–Ω—å –≤–µ—Å–µ–ª–æ!</p>
                    <p>–ü–µ–Ω–∑–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ö–æ—Ä–æ—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏. –î–∞–π –º–Ω–µ —à–∞–Ω—Å –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–±–µ –Ω–∞—à –≥–æ—Ä–æ–¥ —Å –Ω–æ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.</p>
                    <p>–° –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥—É —Ç–≤–æ–µ–≥–æ –æ—Ç–≤–µ—Ç–∞!</p>
                    <p style="text-align: right;">–° —Ç–µ–ø–ª–æ–º,<br>–¢–≤–æ–π –ï–≤–≥–µ–Ω–∏–π</p>
                </div>
            </div>
            
            <div class="form-section">
                <h2><i class="fas fa-calendar-check"></i> –ó–∞–ø–ª–∞–Ω–∏—Ä—É–µ–º –ø—Ä–æ–≥—É–ª–∫—É?</h2>
                <p>–í—ã–±–µ—Ä–∏ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ –∏ –∑–∞–Ω—è—Ç–∏—è:</p>
                
                <form id="invitationForm">
                    <div class="form-group">
                        <label for="date"><i class="far fa-calendar"></i> –î–∞—Ç–∞ –ø—Ä–æ–≥—É–ª–∫–∏:</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="time"><i class="far fa-clock"></i> –í—Ä–µ–º—è:</label>
                        <input type="time" id="time" name="time" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-map-marked-alt"></i> –ì–¥–µ –ø–æ–≥—É–ª—è–µ–º?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" id="park" name="location" value="–ü–∞—Ä–∫ –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ">
                                <label for="park">–ü–∞—Ä–∫ –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="center" name="location" value="–¶–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞">
                                <label for="center">–¶–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="okruzhnaya" name="location" value="–û–∫—Ä—É–∂–Ω–∞—è">
                                <label for="okruzhnaya">–û–∫—Ä—É–∂–Ω–∞—è (—Ç–≤–æ—è)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="south" name="location" value="–Æ–∂–Ω–∞—è">
                                <label for="south">–Æ–∂–Ω–∞—è</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="zoo" name="location" value="–ó–æ–æ–ø–∞—Ä–∫">
                                <label for="zoo">–ó–æ–æ–ø–∞—Ä–∫</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="other" name="location" value="–î—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ">
                                <label for="other">–î—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-heart"></i> –ß—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –ø—Ä–æ–≥—É–ª–∫–µ?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" id="coffee" name="activity" value="–í—ã–ø–∏—Ç—å –∫–æ—Ñ–µ">
                                <label for="coffee">–í—ã–ø–∏—Ç—å –∫–æ—Ñ–µ</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="photo" name="activity" value="–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è">
                                <label for="photo">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å—Å—è</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="walk" name="activity" value="–ü—Ä–æ—Å—Ç–æ –≥—É–ª—è—Ç—å">
                                <label for="walk">–ü—Ä–æ—Å—Ç–æ –≥—É–ª—è—Ç—å</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="talk" name="activity" value="–û–±—â–∞—Ç—å—Å—è">
                                <label for="talk">–û–±—â–∞—Ç—å—Å—è</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="eat" name="activity" value="–ü–µ—Ä–µ–∫—É—Å–∏—Ç—å">
                                <label for="eat">–ü–µ—Ä–µ–∫—É—Å–∏—Ç—å</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="surprise" name="activity" value="–°—é—Ä–ø—Ä–∏–∑ –æ—Ç –ñ–µ–Ω–∏">
                                <label for="surprise">–°—é—Ä–ø—Ä–∏–∑ –æ—Ç –ñ–µ–Ω–∏</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message"><i class="far fa-comment-dots"></i> –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è:</label>
                        <textarea id="message" name="message" rows="3" placeholder="–ú–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–∏ –∏–¥–µ–∏ –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
                    </button>
                </form>
                
                <div id="successMessage" class="success-message">
                    <h3><i class="fas fa-check-circle"></i> –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</h3>
                    <p>–ñ–µ–Ω—è –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π –æ—Ç–≤–µ—Ç –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–≤—è–∂–µ—Ç—Å—è —Å —Ç–æ–±–æ–π. –ñ–¥—ë–º —Ç–µ–±—è –Ω–∞ –ø—Ä–æ–≥—É–ª–∫–µ!</p>
                </div>
                
                <div id="errorMessage" class="error-message">
                    <h3><i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞!</h3>
                    <p id="errorText">–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</p>
                </div>
            </div>
        </div>
        
        <!-- –°–∫—Ä—ã—Ç–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞) -->
        <div class="admin-panel" id="adminPanel">
            <h2><i class="fas fa-user-shield"></i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –ï–≤–≥–µ–Ω–∏—è</h2>
            
            <div class="sync-info">
                <i class="fas fa-sync-alt"></i> 
                <strong>–í–∞–∂–Ω–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏!</strong>
                <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –ß—Ç–æ–±—ã –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –Ω–∏–∂–µ.</p>
            </div>
            
            <div class="admin-controls">
                <button id="viewResponsesBtn" class="submit-btn" style="padding: 12px;">
                    <i class="fas fa-list"></i> –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã
                </button>
                <button id="settingsBtn" class="submit-btn" style="padding: 12px;">
                    <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API
                </button>
                <button id="syncBtn" class="submit-btn" style="padding: 12px;">
                    <i class="fas fa-sync-alt"></i> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                </button>
                <button id="logoutBtn" class="submit-btn" style="padding: 12px; background: linear-gradient(to right, #dc3545 0%, #c82333 100%);">
                    <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                </button>
            </div>
            
            <!-- –†–∞–∑–¥–µ–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ -->
            <div id="syncSection" class="admin-settings">
                <h3><i class="fas fa-sync-alt"></i> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏</h3>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:</p>
                
                <div class="sync-settings">
                    <h4><i class="fas fa-cloud"></i> –°–ø–æ—Å–æ–± 1: –û–±–ª–∞—á–Ω—ã–π –∫–ª—é—á (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</h4>
                    
                    <div class="form-group">
                        <label for="cloudKey">–û–±–ª–∞—á–Ω—ã–π –∫–ª—é—á:</label>
                        <input type="text" id="cloudKey" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á">
                        <small>–õ—é–±–æ–µ —Å–ª–æ–≤–æ –∏–ª–∏ —Ñ—Ä–∞–∑–∞, –∫–æ—Ç–æ—Ä—É—é –∑–∞–ø–æ–º–Ω–∏—Ç–µ</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="cloudKeyHint">–ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –∫–ª—é—á—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                        <input type="text" id="cloudKeyHint" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≥–æ—Ä–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è">
                    </div>
                    
                    <button id="generateCloudKeyBtn" class="submit-btn" style="padding: 10px; margin-right: 10px;">
                        <i class="fas fa-key"></i> –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á
                    </button>
                    
                    <button id="saveToCloudBtn" class="submit-btn" style="padding: 10px; margin-right: 10px;">
                        <i class="fas fa-cloud-upload-alt"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–±–ª–∞–∫–æ
                    </button>
                    
                    <button id="loadFromCloudBtn" class="submit-btn" style="padding: 10px;">
                        <i class="fas fa-cloud-download-alt"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –æ–±–ª–∞–∫–∞
                    </button>
                    
                    <div id="cloudStatus" style="margin-top: 10px;"></div>
                </div>
                
                <div class="sync-settings">
                    <h4><i class="fas fa-qrcode"></i> –°–ø–æ—Å–æ–± 2: QR-–∫–æ–¥ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h4>
                    <p>–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:</p>
                    
                    <div id="qrCodeContainer" class="qr-container">
                        <canvas id="qrCanvas"></canvas>
                    </div>
                    
                    <button id="generateQrBtn" class="submit-btn" style="padding: 10px; margin-right: 10px;">
                        <i class="fas fa-qrcode"></i> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥
                    </button>
                    
                    <button id="scanQrBtn" class="submit-btn" style="padding: 10px;">
                        <i class="fas fa-camera"></i> –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥
                    </button>
                    
                    <input type="file" id="qrFileInput" accept="image/*" class="hidden">
                </div>
                
                <div class="sync-settings">
                    <h4><i class="fas fa-code"></i> –°–ø–æ—Å–æ–± 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥</h4>
                    <p>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:</p>
                    
                    <div class="config-code" id="configCode">
                        –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥" —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
                    </div>
                    
                    <button id="generateConfigBtn" class="submit-btn" style="padding: 10px; margin-right: 10px;">
                        <i class="fas fa-code"></i> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
                    </button>
                    
                    <button id="importConfigBtn" class="submit-btn" style="padding: 10px;">
                        <i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
                    </button>
                </div>
            </div>
            
            <!-- –†–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ API -->
            <div id="apiSettings" class="admin-settings hidden">
                <h3><i class="fas fa-key"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π</h3>
                
                <div class="telegram-settings">
                    <h4><i class="fab fa-telegram"></i> Telegram API</h4>
                    <div class="form-group">
                        <label for="telegramBotToken">–¢–æ–∫–µ–Ω –±–æ—Ç–∞:</label>
                        <input type="password" id="telegramBotToken" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞">
                        <small>–ü–æ–ª—É—á–∏—Ç—å —É @BotFather</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="telegramChatId">Chat ID:</label>
                        <input type="text" id="telegramChatId" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Chat ID">
                        <small>–£–∑–Ω–∞—Ç—å —É @getmyid_bot</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="telegramEnabled">
                            <input type="checkbox" id="telegramEnabled" checked>
                            –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ Telegram
                        </label>
                    </div>
                    
                    <button id="testTelegramBtn" class="submit-btn" style="padding: 10px;">
                        <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                    </button>
                    
                    <div id="telegramStatus" class="api-status status-inactive">–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>
                </div>
                
                <div class="vk-settings">
                    <h4><i class="fab fa-vk"></i> VK API (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)</h4>
                    <div class="form-group">
                        <label for="vkToken">–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞:</label>
                        <input type="password" id="vkToken" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω VK API">
                        <small>–ü–æ–ª—É—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ VK</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="vkGroupId">ID –≥—Ä—É–ø–ø—ã/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                        <input type="text" id="vkGroupId" placeholder="–í–≤–µ–¥–∏—Ç–µ ID –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏">
                    </div>
                    
                    <div class="form-group">
                        <label for="vkEnabled">
                            <input type="checkbox" id="vkEnabled">
                            –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ VK
                        </label>
                    </div>
                    
                    <div id="vkStatus" class="api-status status-inactive">–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>
                </div>
                
                <button id="saveApiSettingsBtn" class="submit-btn">
                    <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
                </button>
                
                <div id="settingsSuccess" class="success-message" style="margin-top: 15px; display: none;">
                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!
                </div>
            </div>
            
            <!-- –†–∞–∑–¥–µ–ª –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ -->
            <div id="responsesSection" class="hidden">
                <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–≤–µ—Ç–æ–≤</h3>
                
                <div id="loadingResponses" class="loading hidden">
                    <i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤...
                </div>
                
                <table class="responses-table" id="responsesTableElement">
                    <thead>
                        <tr>
                            <th>–î–∞—Ç–∞</th>
                            <th>–í—Ä–µ–º—è</th>
                            <th>–ú–µ—Å—Ç–∞</th>
                            <th>–ó–∞–Ω—è—Ç–∏—è</th>
                            <th>–ü–æ–∂–µ–ª–∞–Ω–∏—è</th>
                            <th>–ö–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç–∏–ª–∞</th>
                        </tr>
                    </thead>
                    <tbody id="responsesTable">
                        <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
                
                <div id="noResponses" class="no-responses">
                    <p>–ü–æ–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ—Ç. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –ù—é—à–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç —Ñ–æ—Ä–º—É, –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å.</p>
                </div>
                
                <button id="refreshResponsesBtn" class="submit-btn" style="margin-top: 20px; padding: 12px;">
                    <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>
        </div>
        
        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
        <div class="admin-login" id="adminLogin">
            <h3><i class="fas fa-lock"></i> –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
            <p>–¢–æ–ª—å–∫–æ –¥–ª—è –ï–≤–≥–µ–Ω–∏—è</p>
            
            <div class="form-group">
                <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            </div>
            
            <button id="loginBtn" class="submit-btn" style="padding: 12px;">
                <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
            </button>
            
            <div id="loginError" class="login-error hidden">
                –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.
            </div>
            
            <p style="margin-top: 15px; font-size: 0.9rem; color: #666;">
                –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–∞—Ä–æ–ª—å - –≥–æ—Ä–æ–¥ –≥–¥–µ –º—ã –∂–∏–≤—ë–º (–ª–∞—Ç–∏–Ω—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏)
            </p>
        </div>
        
        <div class="footer">
            <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ù—é—à–∏ –ë—Ä—É–Ω–æ –ì–∞—Ä—Å–∏—è</p>
            <p>¬© 2023 –ï–≤–≥–µ–Ω–∏–π –ò–≤–∞—à–∏–Ω, –ü–µ–Ω–∑–∞</p>
        </div>
    </div>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è QR-–∫–æ–¥–æ–≤ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ================== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ==================
            const CONFIG = {
                ADMIN_PASSWORD: 'penza',
                DEFAULT_DATE_OFFSET: 3,
                DEFAULT_TIME: '18:00',
                CLOUD_STORAGE_KEY: 'nyusha_walk_config'
            };
            
            // ================== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==================
            let isAdmin = false;
            let savedResponses = [];
            
            // ================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==================
            initializeApp();
            
            function initializeApp() {
                setDefaultDateTime();
                loadSavedResponses();
                setupEventListeners();
                checkAdminAuth();
            }
            
            function setDefaultDateTime() {
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('date').min = today;
                
                const defaultDate = new Date();
                defaultDate.setDate(defaultDate.getDate() + CONFIG.DEFAULT_DATE_OFFSET);
                const defaultDateString = defaultDate.toISOString().split('T')[0];
                
                document.getElementById('date').value = defaultDateString;
                document.getElementById('time').value = CONFIG.DEFAULT_TIME;
            }
            
            // ================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ==================
            function setupEventListeners() {
                // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã
                document.getElementById('invitationForm').addEventListener('submit', handleFormSubmit);
                document.getElementById('loginBtn').addEventListener('click', handleAdminLogin);
                document.getElementById('adminPassword').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') handleAdminLogin();
                });
                
                // –ö–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
                document.getElementById('viewResponsesBtn').addEventListener('click', () => showSection('responses'));
                document.getElementById('settingsBtn').addEventListener('click', () => showSection('settings'));
                document.getElementById('syncBtn').addEventListener('click', () => showSection('sync'));
                document.getElementById('logoutBtn').addEventListener('click', handleAdminLogout);
                document.getElementById('refreshResponsesBtn').addEventListener('click', loadResponsesTable);
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API
                document.getElementById('saveApiSettingsBtn').addEventListener('click', saveApiSettings);
                document.getElementById('testTelegramBtn').addEventListener('click', sendTestTelegramMessage);
                
                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                document.getElementById('generateCloudKeyBtn').addEventListener('click', generateCloudKey);
                document.getElementById('saveToCloudBtn').addEventListener('click', saveToCloud);
                document.getElementById('loadFromCloudBtn').addEventListener('click', loadFromCloud);
                document.getElementById('generateQrBtn').addEventListener('click', generateQRCode);
                document.getElementById('scanQrBtn').addEventListener('click', () => document.getElementById('qrFileInput').click());
                document.getElementById('qrFileInput').addEventListener('change', handleQRCodeScan);
                document.getElementById('generateConfigBtn').addEventListener('click', generateConfigCode);
                document.getElementById('importConfigBtn').addEventListener('click', importConfigCode);
                
                // –ê–Ω–∏–º–∞—Ü–∏–∏
                setupCheckboxAnimations();
                setupCharmMessages();
            }
            
            // ================== –û–ë–†–ê–ë–û–¢–ö–ê –§–û–†–ú–´ ==================
            async function handleFormSubmit(e) {
                e.preventDefault();
                
                const submitBtn = document.getElementById('submitBtn');
                const originalText = submitBtn.innerHTML;
                
                try {
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –û—Ç–ø—Ä–∞–≤–∫–∞...';
                    submitBtn.disabled = true;
                    
                    document.getElementById('successMessage').style.display = 'none';
                    document.getElementById('errorMessage').style.display = 'none';
                    
                    const formData = getFormData();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
                    saveResponseLocally(formData);
                    
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
                    await sendToTelegram(formData);
                    
                    showSuccessMessage();
                    resetForm();
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:', error);
                    showErrorMessage(error.message);
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }
            
            function getFormData() {
                const date = document.getElementById('date').value;
                const time = document.getElementById('time').value;
                const message = document.getElementById('message').value || '';
                
                const locations = Array.from(document.querySelectorAll('input[name="location"]:checked'))
                    .map(cb => cb.value);
                
                const activities = Array.from(document.querySelectorAll('input[name="activity"]:checked'))
                    .map(cb => cb.value);
                
                return {
                    date,
                    time,
                    locations,
                    activities,
                    message,
                    sender: '–ù—é—à–∞ –ë—Ä—É–Ω–æ –ì–∞—Ä—Å–∏—è',
                    timestamp: new Date().toLocaleString('ru-RU')
                };
            }
            
            function saveResponseLocally(response) {
                savedResponses.push(response);
                localStorage.setItem('nyushaResponses', JSON.stringify(savedResponses));
            }
            
            function loadSavedResponses() {
                const saved = localStorage.getItem('nyushaResponses');
                savedResponses = saved ? JSON.parse(saved) : [];
            }
            
            // ================== TELEGRAM API ==================
            async function sendToTelegram(formData) {
                // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
                const settings = await getTelegramSettings();
                
                if (!settings.telegramEnabled || !settings.botToken || !settings.chatId) {
                    console.log('Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω');
                    return;
                }
                
                const message = formatTelegramMessage(formData);
                
                try {
                    const url = `https://api.telegram.org/bot${settings.botToken}/sendMessage`;
                    
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: settings.chatId,
                            text: message,
                            parse_mode: 'Markdown',
                            disable_notification: false
                        })
                    });
                    
                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`Telegram: ${errorData.description || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏'}`);
                    }
                    
                    return await response.json();
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ Telegram API:', error);
                    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –µ—Å–ª–∏ Telegram –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
                }
            }
            
            // –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –ù–ê–°–¢–†–û–ï–ö
            async function getTelegramSettings() {
                // 1. –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ localStorage —Ç–µ–∫—É—â–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                let settings = {
                    botToken: localStorage.getItem('telegramBotToken'),
                    chatId: localStorage.getItem('telegramChatId'),
                    telegramEnabled: localStorage.getItem('telegramEnabled') !== 'false'
                };
                
                // 2. –ï—Å–ª–∏ –Ω–µ—Ç –≤ localStorage, –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
                if (!settings.botToken || !settings.chatId) {
                    const urlParams = new URLSearchParams(window.location.search);
                    const configParam = urlParams.get('config');
                    
                    if (configParam) {
                        try {
                            const decoded = atob(configParam);
                            const remoteSettings = JSON.parse(decoded);
                            
                            if (remoteSettings.telegramBotToken && remoteSettings.telegramChatId) {
                                settings = {
                                    botToken: remoteSettings.telegramBotToken,
                                    chatId: remoteSettings.telegramChatId,
                                    telegramEnabled: true
                                };
                                
                                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                                localStorage.setItem('telegramBotToken', settings.botToken);
                                localStorage.setItem('telegramChatId', settings.chatId);
                                localStorage.setItem('telegramEnabled', 'true');
                            }
                        } catch (e) {
                            console.log('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ URL');
                        }
                    }
                }
                
                // 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ sessionStorage (–¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
                if (!settings.botToken || !settings.chatId) {
                    const sessionSettings = sessionStorage.getItem('telegramSettings');
                    if (sessionSettings) {
                        try {
                            const parsed = JSON.parse(sessionSettings);
                            if (parsed.botToken && parsed.chatId) {
                                settings = parsed;
                            }
                        } catch (e) {
                            console.log('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ sessionStorage');
                        }
                    }
                }
                
                return settings;
            }
            
            async function sendTestTelegramMessage() {
                const botToken = document.getElementById('telegramBotToken').value;
                const chatId = document.getElementById('telegramChatId').value;
                
                if (!botToken || !chatId) {
                    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ Chat ID –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');
                    return;
                }
                
                try {
                    const testMessage = `‚úÖ *–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏*

üïê –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏: ${new Date().toLocaleString('ru-RU')}
üì± –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ä–Ω—ã.

üí¨ –ö–æ–≥–¥–∞ –ù—é—à–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ, –µ—ë –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥—ë—Ç —Å—é–¥–∞.

üåÜ _–ü–µ–Ω–∑–∞, ${new Date().getFullYear()}_`;
                    
                    const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
                    
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: testMessage,
                            parse_mode: 'Markdown'
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è');
                    }
                    
                    alert('‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegram:', error);
                    alert('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.');
                }
            }
            
            function formatTelegramMessage(formData) {
                const dateObj = new Date(formData.date);
                const formattedDate = dateObj.toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric'
                });
                
                return `üéâ *–ù–û–í–´–ô –û–¢–í–ï–¢ –û–¢ –ù–Æ–®–ò!* üéâ

üë§ *–û—Ç:* ${formData.sender}
üìÖ *–î–∞—Ç–∞ –ø—Ä–æ–≥—É–ª–∫–∏:* ${formattedDate}
‚è∞ *–í—Ä–µ–º—è:* ${formData.time}

üìç *–ú–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏:*
${formData.locations.map(loc => `‚Ä¢ ${loc}`).join('\n')}

‚ù§Ô∏è *–ß–µ–º —Ö–æ—á–µ—Ç –∑–∞–Ω—è—Ç—å—Å—è:*
${formData.activities.map(act => `‚Ä¢ ${act}`).join('\n')}

üí¨ *–ü–æ–∂–µ–ª–∞–Ω–∏—è:*
${formData.message || '–ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π'}

üìã *–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω:* ${formData.timestamp}

‚úÖ *–î–µ–π—Å—Ç–≤–∏–µ:* –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ù—é—à–µ–π!`;
            }
            
            // ================== –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø ==================
            
            // –°–ü–û–°–û–ë 1: –û–±–ª–∞—á–Ω—ã–π –∫–ª—é—á (—á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω–æ–µ API)
            async function saveToCloud() {
                const cloudKey = document.getElementById('cloudKey').value.trim();
                
                if (!cloudKey) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –æ–±–ª–∞—á–Ω—ã–π –∫–ª—é—á');
                    return;
                }
                
                try {
                    const settings = getAllSettings();
                    const data = {
                        key: cloudKey,
                        settings: settings,
                        timestamp: new Date().toISOString()
                    };
                    
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è JSON
                    // –≠—Ç–æ –¥–µ–º–æ-–≤–µ—Ä—Å–∏—è, –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–µ–Ω —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä
                    const response = await fetch('https://api.jsonbin.io/v3/b', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Master-Key': '$2a$10$YOUR_API_KEY_HERE', // –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á
                            'X-Bin-Name': `nyusha_walk_${cloudKey}`
                        },
                        body: JSON.stringify(data)
                    });
                    
                    if (!response.ok) {
                        throw new Error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –æ–±–ª–∞–∫–æ');
                    }
                    
                    const result = await response.json();
                    const binId = result.metadata.id;
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
                    localStorage.setItem('cloudBinId', binId);
                    localStorage.setItem('cloudKey', cloudKey);
                    
                    document.getElementById('cloudStatus').innerHTML = 
                        '<span style="color: green;">‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –æ–±–ª–∞–∫–æ!</span>';
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ–±–ª–∞—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:', error);
                    
                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage —Å –∫–ª—é—á–æ–º
                    const settings = getAllSettings();
                    localStorage.setItem(`cloud_${cloudKey}`, JSON.stringify(settings));
                    localStorage.setItem('cloudKey', cloudKey);
                    
                    document.getElementById('cloudStatus').innerHTML = 
                        '<span style="color: green;">‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ —Å –∫–ª—é—á–æ–º "' + cloudKey + '"</span>';
                }
            }
            
            async function loadFromCloud() {
                const cloudKey = document.getElementById('cloudKey').value.trim();
                
                if (!cloudKey) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –æ–±–ª–∞—á–Ω—ã–π –∫–ª—é—á');
                    return;
                }
                
                try {
                    // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ JSONBin
                    const binId = localStorage.getItem('cloudBinId');
                    let settings;
                    
                    if (binId) {
                        const response = await fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`, {
                            headers: {
                                'X-Master-Key': '$2a$10$YOUR_API_KEY_HERE'
                            }
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            settings = data.record.settings;
                        }
                    }
                    
                    // –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏–∑ JSONBin, –ø—Ä–æ–±—É–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
                    if (!settings) {
                        const localData = localStorage.getItem(`cloud_${cloudKey}`);
                        if (localData) {
                            settings = JSON.parse(localData);
                        }
                    }
                    
                    if (settings) {
                        applySettings(settings);
                        document.getElementById('cloudStatus').innerHTML = 
                            '<span style="color: green;">‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –æ–±–ª–∞–∫–∞!</span>';
                    } else {
                        throw new Error('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                    }
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –æ–±–ª–∞–∫–∞:', error);
                    document.getElementById('cloudStatus').innerHTML = 
                        '<span style="color: red;">‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>';
                }
            }
            
            function generateCloudKey() {
                const adjectives = ['–°—á–∞—Å—Ç–ª–∏–≤—ã–π', '–í–µ—Å–µ–ª—ã–π', '–†–æ–º–∞–Ω—Ç–∏—á–Ω—ã–π', '–ó–∞–≥–∞–¥–æ—á–Ω—ã–π', '–í–æ–ª—à–µ–±–Ω—ã–π'];
                const nouns = ['–ü—Ä–æ–≥—É–ª–∫–∞', '–í–µ—á–µ—Ä', '–°—é—Ä–ø—Ä–∏–∑', '–°–≤–∏–¥–∞–Ω–∏–µ', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ'];
                const numbers = Math.floor(100 + Math.random() * 900);
                
                const key = `${adjectives[Math.floor(Math.random() * adjectives.length)]}${nouns[Math.floor(Math.random() * nouns.length)]}${numbers}`;
                document.getElementById('cloudKey').value = key;
            }
            
            // –°–ü–û–°–û–ë 2: QR-–∫–æ–¥
            function generateQRCode() {
                const settings = getAllSettings();
                const settingsString = JSON.stringify(settings);
                const encodedSettings = btoa(settingsString);
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º URL —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
                const currentUrl = window.location.origin + window.location.pathname;
                const urlWithConfig = `${currentUrl}?config=${encodedSettings}`;
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR-–∫–æ–¥
                const canvas = document.getElementById('qrCanvas');
                QRCode.toCanvas(canvas, urlWithConfig, {
                    width: 200,
                    margin: 2
                }, function(error) {
                    if (error) {
                        console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞:', error);
                        alert('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞');
                    }
                });
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                document.getElementById('qrCodeContainer').innerHTML = `
                    <canvas id="qrCanvas"></canvas>
                    <p style="margin-top: 10px; font-size: 0.9rem;">
                        –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç QR-–∫–æ–¥ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    </p>
                `;
                
                // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º QR-–∫–æ–¥
                setTimeout(() => {
                    QRCode.toCanvas(document.getElementById('qrCanvas'), urlWithConfig, {
                        width: 200,
                        margin: 2
                    });
                }, 100);
            }
            
            function handleQRCodeScan(event) {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ç–∏–ø–∞ jsQR
                    alert('–î–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É jsQR');
                };
                reader.readAsDataURL(file);
            }
            
            // –°–ü–û–°–û–ë 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥
            function generateConfigCode() {
                const settings = getAllSettings();
                const settingsString = JSON.stringify(settings);
                const encodedSettings = btoa(settingsString);
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                const formattedCode = `NYUSHA_WALK_CONFIG:${encodedSettings}`;
                
                document.getElementById('configCode').textContent = formattedCode;
                
                // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                navigator.clipboard.writeText(formattedCode).then(() => {
                    alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞! –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.');
                });
            }
            
            function importConfigCode() {
                const code = prompt('–í–≤–µ–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥:');
                if (!code) return;
                
                try {
                    // –ò–∑–≤–ª–µ–∫–∞–µ–º –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —á–∞—Å—Ç—å
                    const prefix = 'NYUSHA_WALK_CONFIG:';
                    let encodedSettings;
                    
                    if (code.startsWith(prefix)) {
                        encodedSettings = code.substring(prefix.length);
                    } else {
                        encodedSettings = code;
                    }
                    
                    const settingsString = atob(encodedSettings);
                    const settings = JSON.parse(settingsString);
                    
                    applySettings(settings);
                    alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞:', error);
                    alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.');
                }
            }
            
            // ================== –£–¢–ò–õ–ò–¢–´ –î–õ–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò ==================
            function getAllSettings() {
                return {
                    telegramBotToken: localStorage.getItem('telegramBotToken'),
                    telegramChatId: localStorage.getItem('telegramChatId'),
                    telegramEnabled: localStorage.getItem('telegramEnabled'),
                    vkToken: localStorage.getItem('vkToken'),
                    vkGroupId: localStorage.getItem('vkGroupId'),
                    vkEnabled: localStorage.getItem('vkEnabled'),
                    adminPassword: CONFIG.ADMIN_PASSWORD,
                    version: '1.0',
                    timestamp: new Date().toISOString()
                };
            }
            
            function applySettings(settings) {
                if (settings.telegramBotToken) {
                    localStorage.setItem('telegramBotToken', settings.telegramBotToken);
                    document.getElementById('telegramBotToken').value = settings.telegramBotToken;
                }
                
                if (settings.telegramChatId) {
                    localStorage.setItem('telegramChatId', settings.telegramChatId);
                    document.getElementById('telegramChatId').value = settings.telegramChatId;
                }
                
                if (settings.telegramEnabled !== undefined) {
                    localStorage.setItem('telegramEnabled', settings.telegramEnabled);
                    document.getElementById('telegramEnabled').checked = settings.telegramEnabled === 'true' || settings.telegramEnabled === true;
                }
                
                if (settings.vkToken) {
                    localStorage.setItem('vkToken', settings.vkToken);
                    document.getElementById('vkToken').value = settings.vkToken;
                }
                
                if (settings.vkGroupId) {
                    localStorage.setItem('vkGroupId', settings.vkGroupId);
                    document.getElementById('vkGroupId').value = settings.vkGroupId;
                }
                
                if (settings.vkEnabled !== undefined) {
                    localStorage.setItem('vkEnabled', settings.vkEnabled);
                    document.getElementById('vkEnabled').checked = settings.vkEnabled === 'true' || settings.vkEnabled === true;
                }
                
                updateApiStatus();
            }
            
            // ================== –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ ==================
            function checkAdminAuth() {
                const auth = localStorage.getItem('adminAuth') === 'true';
                if (auth) {
                    showAdminPanel();
                } else {
                    showLoginForm();
                }
            }
            
            function handleAdminLogin() {
                const password = document.getElementById('adminPassword').value;
                const errorElement = document.getElementById('loginError');
                
                if (password === CONFIG.ADMIN_PASSWORD) {
                    localStorage.setItem('adminAuth', 'true');
                    showAdminPanel();
                    errorElement.classList.add('hidden');
                } else {
                    errorElement.classList.remove('hidden');
                    document.getElementById('adminPassword').value = '';
                    document.getElementById('adminPassword').focus();
                }
            }
            
            function handleAdminLogout() {
                localStorage.removeItem('adminAuth');
                showLoginForm();
            }
            
            function showAdminPanel() {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminPanel').classList.add('visible');
                showSection('sync'); // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–¥–µ–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
            }
            
            function showLoginForm() {
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('adminPanel').classList.remove('visible');
                document.getElementById('adminPassword').value = '';
            }
            
            function showSection(section) {
                document.getElementById('syncSection').classList.add('hidden');
                document.getElementById('apiSettings').classList.add('hidden');
                document.getElementById('responsesSection').classList.add('hidden');
                
                if (section === 'sync') {
                    document.getElementById('syncSection').classList.remove('hidden');
                } else if (section === 'settings') {
                    document.getElementById('apiSettings').classList.remove('hidden');
                    loadApiSettingsForm();
                } else if (section === 'responses') {
                    document.getElementById('responsesSection').classList.remove('hidden');
                    loadResponsesTable();
                }
            }
            
            function loadApiSettingsForm() {
                document.getElementById('telegramBotToken').value = localStorage.getItem('telegramBotToken') || '';
                document.getElementById('telegramChatId').value = localStorage.getItem('telegramChatId') || '';
                document.getElementById('telegramEnabled').checked = localStorage.getItem('telegramEnabled') !== 'false';
                
                document.getElementById('vkToken').value = localStorage.getItem('vkToken') || '';
                document.getElementById('vkGroupId').value = localStorage.getItem('vkGroupId') || '';
                document.getElementById('vkEnabled').checked = localStorage.getItem('vkEnabled') === 'true';
                
                updateApiStatus();
            }
            
            function saveApiSettings() {
                localStorage.setItem('telegramBotToken', document.getElementById('telegramBotToken').value);
                localStorage.setItem('telegramChatId', document.getElementById('telegramChatId').value);
                localStorage.setItem('telegramEnabled', document.getElementById('telegramEnabled').checked);
                
                localStorage.setItem('vkToken', document.getElementById('vkToken').value);
                localStorage.setItem('vkGroupId', document.getElementById('vkGroupId').value);
                localStorage.setItem('vkEnabled', document.getElementById('vkEnabled').checked);
                
                const successMsg = document.getElementById('settingsSuccess');
                successMsg.style.display = 'block';
                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 2000);
                
                updateApiStatus();
            }
            
            function updateApiStatus() {
                const telegramToken = localStorage.getItem('telegramBotToken');
                const telegramChatId = localStorage.getItem('telegramChatId');
                const telegramEnabled = localStorage.getItem('telegramEnabled') !== 'false';
                
                const vkToken = localStorage.getItem('vkToken');
                const vkGroupId = localStorage.getItem('vkGroupId');
                const vkEnabled = localStorage.getItem('vkEnabled') === 'true';
                
                const telegramStatus = document.getElementById('telegramStatus');
                if (telegramToken && telegramChatId && telegramEnabled) {
                    telegramStatus.textContent = '–ê–∫—Ç–∏–≤–µ–Ω';
                    telegramStatus.className = 'api-status status-active';
                } else {
                    telegramStatus.textContent = '–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω';
                    telegramStatus.className = 'api-status status-inactive';
                }
                
                const vkStatus = document.getElementById('vkStatus');
                if (vkToken && vkGroupId && vkEnabled) {
                    vkStatus.textContent = '–ê–∫—Ç–∏–≤–µ–Ω';
                    vkStatus.className = 'api-status status-active';
                } else {
                    vkStatus.textContent = '–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω';
                    vkStatus.className = 'api-status status-inactive';
                }
            }
            
            // ================== –¢–ê–ë–õ–ò–¶–ê –û–¢–í–ï–¢–û–í ==================
            function loadResponsesTable() {
                const tableBody = document.getElementById('responsesTable');
                const noResponsesDiv = document.getElementById('noResponses');
                const tableElement = document.getElementById('responsesTableElement');
                const loadingElement = document.getElementById('loadingResponses');
                
                loadingElement.classList.remove('hidden');
                tableElement.style.display = 'none';
                noResponsesDiv.style.display = 'none';
                
                setTimeout(() => {
                    tableBody.innerHTML = '';
                    
                    if (savedResponses.length === 0) {
                        noResponsesDiv.style.display = 'block';
                        tableElement.style.display = 'none';
                    } else {
                        noResponsesDiv.style.display = 'none';
                        tableElement.style.display = 'table';
                        
                        savedResponses.slice().reverse().forEach((response, index) => {
                            const row = document.createElement('tr');
                            
                            const dateObj = new Date(response.date);
                            const formattedDate = dateObj.toLocaleDateString('ru-RU', {
                                day: 'numeric',
                                month: 'long',
                                year: 'numeric'
                            });
                            
                            row.innerHTML = `
                                <td>${formattedDate}</td>
                                <td>${response.time}</td>
                                <td>${response.locations.join(', ')}</td>
                                <td>${response.activities.join(', ')}</td>
                                <td>${response.message || '‚Äî'}</td>
                                <td>${response.timestamp}</td>
                            `;
                            
                            tableBody.appendChild(row);
                        });
                    }
                    
                    loadingElement.classList.add('hidden');
                }, 300);
            }
            
            // ================== –ê–ù–ò–ú–ê–¶–ò–ò –ò –≠–§–§–ï–ö–¢–´ ==================
            function setupCheckboxAnimations() {
                const checkboxes = document.querySelectorAll('.checkbox-option input');
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        if (this.checked) {
                            this.parentElement.style.transform = 'scale(1.05)';
                            setTimeout(() => {
                                this.parentElement.style.transform = 'scale(1)';
                            }, 300);
                        }
                    });
                });
            }
            
            function setupCharmMessages() {
                const charmElement = document.querySelector('.charm-element h3');
                const messages = [
                    "–ù—é—à–∞, —ç—Ç–∞ –ø—Ä–æ–≥—É–ª–∫–∞ –±—É–¥–µ—Ç –≤–æ–ª—à–µ–±–Ω–æ–π!",
                    "–Ø –æ–±–µ—â–∞—é, –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ!",
                    "–ú—ã –º–æ–∂–µ–º –ø–æ–≥—É–ª—è—Ç—å —Ç–∞–º, –≥–¥–µ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è",
                    "–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª —Å—é—Ä–ø—Ä–∏–∑—ã –¥–ª—è —Ç–µ–±—è!",
                    "–î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ä—ã–≤ –≤ –¥–µ–ª–∞—Ö?",
                    "–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ–º–æ–∂–µ—Ç –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –∏ –∑–∞—Ä—è–¥–∏—Ç—å—Å—è —ç–Ω–µ—Ä–≥–∏–µ–π!"
                ];
                
                let index = 0;
                setInterval(() => {
                    charmElement.textContent = messages[index];
                    index = (index + 1) % messages.length;
                }, 8000);
            }
            
            // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            function showSuccessMessage() {
                const successMsg = document.getElementById('successMessage');
                successMsg.style.display = 'block';
                successMsg.scrollIntoView({ behavior: 'smooth' });
            }
            
            function showErrorMessage(message) {
                const errorMsg = document.getElementById('errorMessage');
                document.getElementById('errorText').textContent = message;
                errorMsg.style.display = 'block';
                errorMsg.scrollIntoView({ behavior: 'smooth' });
            }
            
            function resetForm() {
                document.getElementById('invitationForm').reset();
                setDefaultDateTime();
            }
        });
    </script>
</body>
</html>
